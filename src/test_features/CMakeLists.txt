include(CheckFunctionExists)
include(CheckIncludeFileCXX)
include(FindPkgConfig)
include(CheckCXXCompilerFlag)
include(CheckSymbolExists)
include(FindPythonInterp)
include(CheckCXXSourceCompiles)
include(TestBigEndian)

test_big_endian(IS_HOST_BIG_ENDIAN)
check_cxx_source_compiles("int main (void) { int x = 0; if (__builtin_expect(x, 0)) return 0; else return 1; }" COMPILER_HAVE_BUILTIN_EXPECT)
set(CMAKE_REQUIRED_FLAGS "-std=c++0x")
check_include_file_cxx(cstdint HAVE_CPP0X_STYLE_HEADERS)
set(CMAKE_REQUIRED_FLAGS "")
set(CMAKE_REQUIRED_FLAGS "-flto -fuse-linker-plugin")
check_cxx_source_compiles("int main (void) { return 0; }" COMPILER_HAVE_LTO)
set(CMAKE_REQUIRED_FLAGS "")
